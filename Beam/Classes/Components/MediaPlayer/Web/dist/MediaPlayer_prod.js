(()=>{var e={267:(e,t)=>{var i=Object.prototype.hasOwnProperty;function n(e,t,i){for(i of e.keys())if(r(i,t))return i}function r(e,t){var a,s,o;if(e===t)return!0;if(e&&t&&(a=e.constructor)===t.constructor){if(a===Date)return e.getTime()===t.getTime();if(a===RegExp)return e.toString()===t.toString();if(a===Array){if((s=e.length)===t.length)for(;s--&&r(e[s],t[s]););return-1===s}if(a===Set){if(e.size!==t.size)return!1;for(s of e){if((o=s)&&"object"==typeof o&&!(o=n(t,o)))return!1;if(!t.has(o))return!1}return!0}if(a===Map){if(e.size!==t.size)return!1;for(s of e){if((o=s[0])&&"object"==typeof o&&!(o=n(t,o)))return!1;if(!r(s[1],t.get(o)))return!1}return!0}if(a===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(a===DataView){if((s=e.byteLength)===t.byteLength)for(;s--&&e.getInt8(s)===t.getInt8(s););return-1===s}if(ArrayBuffer.isView(e)){if((s=e.byteLength)===t.byteLength)for(;s--&&e[s]===t[s];);return-1===s}if(!a||"object"==typeof e){for(a in s=0,e){if(i.call(e,a)&&++s&&!i.call(t,a))return!1;if(!(a in t)||!r(e[a],t[a]))return!1}return Object.keys(t).length===s}}return e!=e&&t!=t}t.dequal=r},179:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BeamDOMRectList=void 0;class i{constructor(e){this.list=e}get length(){return this.list.length}[Symbol.iterator](){return this.list.values()}item(e){return this.list[e]}}t.BeamDOMRectList=i},539:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BeamKeyEvent=void 0;const n=i(302);class r extends n.BeamMouseEvent{constructor(e={}){super(),Object.assign(this,e)}}t.BeamKeyEvent=r},302:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BeamMouseEvent=void 0;const n=i(292);class r extends n.BeamUIEvent{constructor(e={}){super(),Object.assign(this,e)}}t.BeamMouseEvent=r},13:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BeamNamedNodeMap=void 0;class i extends Object{constructor(e={}){super(),this.attrs=[];for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const i={ATTRIBUTE_NODE:0,CDATA_SECTION_NODE:0,COMMENT_NODE:0,DOCUMENT_FRAGMENT_NODE:0,DOCUMENT_NODE:0,DOCUMENT_POSITION_CONTAINED_BY:0,DOCUMENT_POSITION_CONTAINS:0,DOCUMENT_POSITION_DISCONNECTED:0,DOCUMENT_POSITION_FOLLOWING:0,DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:0,DOCUMENT_POSITION_PRECEDING:0,DOCUMENT_TYPE_NODE:0,ELEMENT_NODE:0,ENTITY_NODE:0,ENTITY_REFERENCE_NODE:0,NOTATION_NODE:0,PROCESSING_INSTRUCTION_NODE:0,TEXT_NODE:0,addEventListener(e,t,i){},appendChild(e){},baseURI:"",childNodes:void 0,cloneNode(e){},compareDocumentPosition:e=>0,contains:e=>!1,dispatchEvent:e=>!1,firstChild:void 0,getRootNode(e){},hasChildNodes:()=>!1,insertBefore(e,t){},isConnected:!1,isDefaultNamespace:e=>!1,isEqualNode:e=>!1,isSameNode:e=>!1,lastChild:void 0,lookupNamespaceURI(e){},lookupPrefix(e){},namespaceURI:void 0,nextSibling:void 0,nodeName:"",nodeType:0,nodeValue:void 0,ownerDocument:void 0,ownerElement:void 0,parentElement:void 0,parentNode:void 0,prefix:void 0,previousSibling:void 0,removeChild(e){},removeEventListener(e,t,i){},replaceChild(e,t){},specified:!1,textContent:void 0,normalize(){},name:t,localName:t,value:e[t]};this.setNamedItem(i)}}get length(){return this.attrs.length}getNamedItem(e){return this.attrs.find((t=>t.localName===e))}getNamedItemNS(e,t){return this.getNamedItem(`${e}.${t}`)}item(e){return this.attrs[e]}removeNamedItem(e){const t=this.getNamedItem(e),i=this.attrs.indexOf(t);return this.attrs.splice(i,1),t}removeNamedItemNS(e,t){return this.removeNamedItem(e+"."+t)}setNamedItem(e){const t=this.getNamedItem(e.localName);return t&&this.removeNamedItem(e.localName),this.attrs.push(e),t}setNamedItemNS(e){}[Symbol.iterator](){return this.attrs.values()}toString(){return this.attrs.map((e=>`${e.name}="${e.value}"`)).join(" ")}}t.BeamNamedNodeMap=i},213:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BeamHTMLCollection=t.BeamLogCategory=t.BeamLogLevel=t.FrameInfo=t.BeamResizeObserver=t.BeamMutationObserver=t.BeamWebkitPresentationMode=t.BeamNodeType=t.NoteInfo=t.BeamRect=t.MediaPlayState=t.BeamSize=void 0;class i{constructor(e,t){this.width=e,this.height=t}}t.BeamSize=i,function(e){e.ready="ready",e.playing="playing",e.paused="paused",e.ended="ended"}(t.MediaPlayState||(t.MediaPlayState={}));t.BeamRect=class extends i{constructor(e,t,i,n){super(i,n),this.x=e,this.y=t}};t.NoteInfo=class{},function(e){e[e.element=1]="element",e[e.text=3]="text",e[e.processing_instruction=7]="processing_instruction",e[e.comment=8]="comment",e[e.document=9]="document",e[e.document_type=10]="document_type",e[e.document_fragment=11]="document_fragment"}(t.BeamNodeType||(t.BeamNodeType={})),function(e){e.inline="inline",e.fullscreen="fullscreen",e.pip="picture-in-picture"}(t.BeamWebkitPresentationMode||(t.BeamWebkitPresentationMode={}));t.BeamMutationObserver=class{constructor(e){this.fn=e,new e}disconnect(){throw new Error("Method not implemented.")}observe(e,t){throw new Error("Method not implemented.")}takeRecords(){throw new Error("Method not implemented.")}};t.BeamResizeObserver=class{constructor(){}disconnect(){throw new Error("Method not implemented.")}observe(e,t){throw new Error("Method not implemented.")}unobserve(e){throw new Error("Method not implemented.")}};t.FrameInfo=class{},function(e){e.log="log",e.warning="warning",e.error="error",e.debug="debug"}(t.BeamLogLevel||(t.BeamLogLevel={})),function(e){e.general="general",e.pointAndShoot="pointAndShoot",e.embedNode="embedNode",e.webpositions="webpositions",e.navigation="navigation",e.native="native",e.passwordManager="passwordManager",e.webAutofillInternal="webAutofillInternal"}(t.BeamLogCategory||(t.BeamLogCategory={}));class n{constructor(e){this.values=e}get length(){return this.values.length}[Symbol.iterator](){return this.values.values()}item(e){return this.values[e]}namedItem(e){return this.item(parseInt(e,10))}}t.BeamHTMLCollection=n},292:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BeamUIEvent=void 0;t.BeamUIEvent=class{preventDefault(){}stopPropagation(){}}},150:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Native=void 0;class i{constructor(e,t){if(this.win=e,this.href=e.location.href,this.componentPrefix=t,this.messageHandlers=e.webkit&&e.webkit.messageHandlers,!this.messageHandlers)throw Error("Could not find webkit message handlers")}static getInstance(e,t){return i.instance||(i.instance=new i(e,t)),i.instance}sendMessage(e,t){const i=`${this.componentPrefix}_${e}`,n=this.messageHandlers[i];if(!n)throw Error(`No message handler for message "${i}"`);{const e=this.win.location.href;n.postMessage(Object.assign({href:e},t),e)}}toString(){return this.constructor.name}}t.Native=i},225:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(i(213),t),r(i(539),t),r(i(302),t),r(i(150),t),r(i(13),t),r(i(292),t),r(i(179),t)},43:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BeamElementHelper=void 0;const n=i(675),r=i(10);class a{static getAttribute(e,t){const i=t.attributes.getNamedItem(e);return null==i?void 0:i.value}static getType(e){return a.getAttribute("type",e)}static getContentEditable(e){return a.getAttribute("contenteditable",e)||"inherit"}static isTextualInputType(e){const t=e.tagName.toLowerCase();if("textarea"===t)return!0;if("input"===t){return["text","email","password","date","datetime-local","month","number","search","tel","time","url","week","datetime"].includes(e.type)}return!1}static getTextValue(e){let t;switch(e.tagName.toLowerCase()){case"input":{const i=e;a.isTextualInputType(i)&&(t=i.value)}break;case"textarea":t=e.value;break;default:t=e.innerText}return t}static getBackgroundImageURL(e,t){var i;const n=null===(i=t.getComputedStyle)||void 0===i?void 0:i.call(t,e),r=null==n?void 0:n.backgroundImage.match(/url\(([^)]+)/);if(r&&r.length>1)return r[1].replace(/('|")/g,"")}static hasParentOfType(e,t,i=10){if(i<=0)return null;if("BODY"!==t&&"BODY"===(null==e?void 0:e.tagName))return null;if(!(null==e?void 0:e.parentElement))return null;if(t===(null==e?void 0:e.tagName))return e;const n=i--;return a.hasParentOfType(e.parentElement,t,n)}static parseElementBasedOnStyles(e,t){const i=new r.BeamEmbedHelper(t);if(i.isEmbeddableElement(e)){const t=i.parseElementForEmbed(e);if(t)return t}return e}static isVisible(e,t){var i;let n=!1;if(e){n=!0;const r=null===(i=t.getComputedStyle)||void 0===i?void 0:i.call(t,e);if(r&&(n=!("none"===r.getPropertyValue("display")||["hidden","collapse"].includes(r.getPropertyValue("visibility"))||"1px"===r.getPropertyValue("width")&&"1px"===r.getPropertyValue("height")||["0px","0"].includes(r.getPropertyValue("width"))||["0px","0"].includes(r.getPropertyValue("height"))||"absolute"===r.getPropertyValue("position")&&r.getPropertyValue("clip").match(/rect\((0(px)?[, ]+){3}0px\)/)||r.getPropertyValue("clip-path").match(/inset\(([5-9]\d|100)%\)/))),n){const t=e.getBoundingClientRect();n=t.width>0&&t.height>0}}return n}static isMedia(e){return["video","audio"].includes(e.tagName.toLowerCase())||Boolean(e.querySelectorAll("video, audio").length)}static isImageOrContainsImageChild(e,t){return a.isImage(e,t,(e=>["img","svg"].includes(e.tagName.toLowerCase())||Boolean(e.querySelectorAll("img, svg").length)))}static isImage(e,t,i=a.imageElementMatcher){var n;if(i(e))return!0;const r=null===(n=t.getComputedStyle)||void 0===n?void 0:n.call(t,e);return!!(null==r?void 0:r.backgroundImage.match(/url\(([^)]+)/))}static isImageContainer(e,t){return!!a.isImage(e,t)||e.children.length>0&&[...e.children].every((e=>a.isImageContainer(e,t)))}static getSvgRoot(e){if(!["body","html"].includes(e.tagName.toLowerCase()))return"svg"===e.tagName.toLowerCase()?e:e.parentElement?a.getSvgRoot(e.parentElement):void 0}static getPositionedElement(e,t){var i;if(!e||e===t.document.body)return;const n=null===(i=t.getComputedStyle)||void 0===i?void 0:i.call(t,e);return e.parentElement&&"static"===(null==n?void 0:n.position)?a.getPositionedElement(e.parentElement,t):"static"!==(null==n?void 0:n.position)?e:void 0}static getOverflowEscapingElement(e,t,i){var n;if(!e||e===i.document.body)return;const r=null===(n=i.getComputedStyle)||void 0===n?void 0:n.call(i,e);if(r)switch(r.position){case"absolute":{const n=a.getPositionedElement(e.parentElement,i);return n&&n.contains(t),e}case"fixed":return e;default:return a.getOverflowEscapingElement(e.parentElement,t,i)}}static getClippingElement(e,t){var i;if(e===t.document.body)return;const n=null===(i=t.getComputedStyle)||void 0===i?void 0:i.call(t,e);if(n){if("visible"!==n.getPropertyValue("overflow")||"visible"!==n.getPropertyValue("overflow-x")||"visible"!==n.getPropertyValue("overflow-y")||"auto"!==n.getPropertyValue("clip")||"none"!==n.getPropertyValue("clip-path"))return e;if(e.parentElement)return a.getClippingElement(e.parentElement,t)}else if(e.parentElement)return a.getClippingElement(e.parentElement,t)}static getClippingElements(e,t){const i=a.getClippingElement(e,t);return i?i.parentElement&&i.parentElement!==t.document.body?[i,...a.getClippingElements(i.parentElement,t)]:[i]:[]}static getClippingArea(e,t){return e.map((e=>{var i;const n=null===(i=t.getComputedStyle)||void 0===i?void 0:i.call(t,e);if(n){const t="visible"!==n.getPropertyValue("overflow-x"),i="visible"!==n.getPropertyValue("overflow-y"),r=e.getBoundingClientRect();return t&&!i?{x:r.x,width:r.width,y:-1/0,height:1/0}:i&&!t?{y:r.y,height:r.height,x:-1/0,width:1/0}:r}})).reduce(((e,t)=>e?n.BeamRectHelper.intersection(e,t):t),null)}static getClippingContainers(e,t){return a.getClippingElements(e,t).filter((i=>{const n=a.getOverflowEscapingElement(e,i,t);return!n||n.contains(i)}))}static isLargerThanWindow(e,t){const i=100/t.innerHeight*e.height>110;if(i)return i;return 100/t.innerWidth*e.width>110}}t.BeamElementHelper=a,a.imageElementMatcher=e=>["img","svg"].includes(e.tagName.toLowerCase())},10:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BeamEmbedHelper=void 0;const n=i(267);t.BeamEmbedHelper=class{constructor(e){this.embedPattern="__EMBEDPATTERN__",this.win=e,this.embedRegex=new RegExp(this.embedPattern,"i"),this.firstLocationLoaded=this.win.location}isEmbeddableElement(e){const t=this.isOnFullEmbeddablePage();if(t)return t;switch(this.win.location.hostname){case"twitter.com":return this.isTweet(e);case"www.youtube.com":return this.isYouTubeThumbnail(e)||this.isEmbeddableIframe(e)||this.win.location.pathname.includes("/embed/");default:return this.isEmbeddableIframe(e)}}getEmbeddableWindowLocation(){const e=[this.win.location.href,this.firstLocationLoaded.href];if((0,n.dequal)(e,this.getEmbeddableWindowLocationLastUrls))return this.getEmbeddableWindowLocationLastResult;const t=e.find((e=>this.embedRegex.test(e)));return this.getEmbeddableWindowLocationLastUrls=e,this.getEmbeddableWindowLocationLastResult=t,t}isOnFullEmbeddablePage(){return this.urlMatchesEmbedProvider([this.win.location.href,this.firstLocationLoaded.href])&&this.isInsideIframe()}isEmbeddableIframe(e){return!!["iframe"].includes(e.tagName.toLowerCase())&&this.urlMatchesEmbedProvider([e.src])}urlMatchesEmbedProvider(e){if((0,n.dequal)(e,this.urlMatchesEmbedProviderLastUrls))return this.urlMatchesEmbedProviderLastResult;const t=e.some((e=>!!e&&(this.embedRegex.test(e)||e.includes("youtube.com/embed"))));return this.urlMatchesEmbedProviderLastUrls=e,this.urlMatchesEmbedProviderLastResult=t,t}isInsideIframe(){try{return window.self!==window.top}catch(e){return!0}}parseElementForEmbed(e){const{hostname:t}=this.win.location;switch(t){case"twitter.com":return this.parseTwitterElementForEmbed(e);case"www.youtube.com":if(this.win.location.pathname.includes("/embed/")){const e=window.location.pathname.split("/").pop();return this.createLinkElement(`https://www.youtube.com/watch?v=${e}`)}return this.parseYouTubeThumbnailForEmbed(e);default:if(e.src&&this.urlMatchesEmbedProvider([e.src]))return this.createLinkElement(e.src)}}parseTwitterElementForEmbed(e){if(!this.isTweet(e))return;const t=e.querySelectorAll('a[href*="/status/"]'),i=null==t?void 0:t[0].href;return i?this.createLinkElement(i):void 0}isTweet(e){return"tweet"==e.getAttribute("data-testid")}isYouTubeThumbnail(e){var t,i;if(Boolean(null===(t=null==e?void 0:e.href)||void 0===t?void 0:t.includes("/watch?v=")))return!0;const n=this.hasParentOfType(e,"A",5);return Boolean(null===(i=null==n?void 0:n.href)||void 0===i?void 0:i.includes("/watch?v="))}hasParentOfType(e,t,i=10){if(i<=0)return null;if("BODY"!==t&&"BODY"===(null==e?void 0:e.tagName))return null;if(!(null==e?void 0:e.parentElement))return null;if(t===(null==e?void 0:e.tagName))return e;const n=i--;return this.hasParentOfType(e.parentElement,t,n)}parseYouTubeThumbnailForEmbed(e){var t,i;if(!this.isYouTubeThumbnail(e))return;if(null===(t=null==e?void 0:e.href)||void 0===t?void 0:t.includes("/watch?v="))return this.createLinkElement(null==e?void 0:e.href);const n=this.hasParentOfType(e,"A",5);return(null===(i=null==n?void 0:n.href)||void 0===i?void 0:i.includes("/watch?v="))?this.createLinkElement(null==n?void 0:n.href):void 0}createLinkElement(e){const t=this.win.document.createElement("a");return t.setAttribute("href",e),t.innerText=e,t}}},994:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BeamLogger=void 0;const n=i(225);t.BeamLogger=class{constructor(e,t){this.native=new n.Native(e,"beam_logger"),this.category=t}log(...e){const t=this.convertArgsToMessage(e);this.sendMessage(t,n.BeamLogLevel.log)}logWarning(...e){const t=this.convertArgsToMessage(e);this.sendMessage(t,n.BeamLogLevel.warning)}logDebug(...e){const t=this.convertArgsToMessage(e);this.sendMessage(t,n.BeamLogLevel.debug)}logError(...e){const t=this.convertArgsToMessage(e);this.sendMessage(t,n.BeamLogLevel.error)}sendMessage(e,t){this.native.sendMessage("log",{message:e,level:t,category:this.category})}convertArgsToMessage(e){return Object.values(e).map((e=>{let t;if("object"==typeof e)try{t=JSON.stringify(e)}catch(e){}return t||(t=String(e)),t})).map((e=>e.substring(0,3e3))).join(", ")}}},675:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BeamRectHelper=void 0;t.BeamRectHelper=class{static filterRectArrayByRectArray(e,t){return e.filter((e=>0==this.doRectMatchesRectsInArray(e,t)))}static doRectMatchesRectsInArray(e,t){return t.some((t=>this.doRectsMatch(e,t)))}static doRectsMatch(e,t){return Math.round(null==e?void 0:e.x)==Math.round(null==t?void 0:t.x)&&Math.round(null==e?void 0:e.y)==Math.round(null==t?void 0:t.y)&&Math.round(null==e?void 0:e.height)==Math.round(null==t?void 0:t.height)&&Math.round(null==e?void 0:e.width)==Math.round(null==t?void 0:t.width)}static boundingRect(e,t){const i=Math.min(e.x,t.x),n=Math.min(e.y,t.y);return{x:i,y:n,width:Math.max(e.x+e.width,t.x+t.width)-i,height:Math.max(e.y+e.height,t.y+t.height)-n}}static intersection(e,t){const i=Math.max(e.x,t.x),n=Math.max(e.y,t.y),r=[e.x+e.width,t.x+t.width].filter((e=>!isNaN(e))),a=Math.min(...r),s=[e.y+e.height,t.y+t.height].filter((e=>!isNaN(e))),o=Math.min(...s);if(a>i&&o>n)return{x:i,y:n,width:a-i,height:o-n}}}},384:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PointAndShootHelper=void 0;const n=i(225),r=i(43),a=i(10);class s{static isOnlyMarkupChar(e){return 1==e.length&&["•","-","|","–","—","·"].includes(e)}static isTextMeaningful(e){if(e){const t=e.trim();return!!t&&!this.isOnlyMarkupChar(t)}return!1}static isMeaningful(e,t){return(new a.BeamEmbedHelper(t).isEmbeddableElement(e)||r.BeamElementHelper.isMedia(e)||r.BeamElementHelper.isImageContainer(e,t)||s.isTextMeaningful(r.BeamElementHelper.getTextValue(e)))&&r.BeamElementHelper.isVisible(e,t)}static isUselessSiteSpecificElement(e,t){var i;return!(!(null===(i=t.location.hostname)||void 0===i?void 0:i.includes("amazon."))||"magnifierLens"!=e.id)}static isMeaningfulOrChildrenAre(e,t){return!!s.isMeaningful(e,t)||[...e.children].some((e=>s.isMeaningful(e,t)))}static getMeaningfulChildNodes(e,t){return[...e.childNodes].filter((e=>e.nodeType===n.BeamNodeType.element&&s.isMeaningfulOrChildrenAre(e,t)||e.nodeType===n.BeamNodeType.text&&s.isTextMeaningful(e.data)))}static isUselessOrChildrenAre(e,t){return 0==s.isMeaningfulOrChildrenAre(e,t)}static getElementAndTextChildNodesRecursively(e,t){if(!(null==e?void 0:e.childNodes))return[e];const i=[];return[...e.childNodes].forEach((e=>{switch(e.nodeType){case n.BeamNodeType.element:i.push(e);const r=this.getElementAndTextChildNodesRecursively(e,t);i.push(...r);break;case n.BeamNodeType.text:i.push(e)}})),0==i.length?[e]:i}static isOnlyAltKey(e){return(e.altKey||"Alt"==e.key)&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey}static upsertShootGroup(e,t){const i=t.findIndex((({element:t})=>t==e.element));-1!=i?t[i]=e:t.push(e)}static upsertRangeGroup(e,t){const i=t.findIndex((({id:t})=>t==e.id));-1!=i?t[i]=e:t.push(e)}static isExplicitlyContentEditable(e){return["true","plaintext-only"].includes(r.BeamElementHelper.getContentEditable(e))}static getInheritedContentEditable(e){let t=this.isExplicitlyContentEditable(e);const i=e.parentElement;return i&&"inherit"===r.BeamElementHelper.getContentEditable(e)&&(t=this.getInheritedContentEditable(i)),t}static isTargetTextualInput(e){return r.BeamElementHelper.isTextualInputType(e)||this.getInheritedContentEditable(e)}static isEventTargetActive(e,t){return!(!e.document.activeElement||e.document.activeElement===e.document.body||!e.document.activeElement.contains(t))}static isActiveTextualInput(e,t){return this.isEventTargetActive(e,t)&&this.isTargetTextualInput(t)}static hasMouseLocationChanged(e,t,i){return(null==e?void 0:e.x)!==t||(null==e?void 0:e.y)!==i}static hasFocusedTextualInput(e){const t=e.document.activeElement;return!!t&&(r.BeamElementHelper.isTextualInputType(t)||this.getInheritedContentEditable(t))}static isPointDisabled(e,t){return this.isActiveTextualInput(e,t)||this.hasFocusedTextualInput(e)||this.hasSelection(e)}static hasSelection(e){return!e.document.getSelection().isCollapsed&&Boolean(e.document.getSelection().toString())}static getSelectionRanges(e){const t=[],i=e.rangeCount;for(let n=0;n<i;++n){const i=e.getRangeAt(n);t.push(i)}return t}static getSelection(e){return e.document.getSelection()}static getElementAtMouseLocation(e,t){return e.document.elementFromPoint(t.x,t.y)}static getOffset(e,t){e&&(t.x+=e.offsetLeft,t.y+=e.offsetTop,s.getOffset(e.offsetParent,t))}static getScrolled(e,t){e&&(t.x+=e.scrollLeft,t.y+=e.scrollTop,"html"!=e.tagName.toLowerCase()&&s.getScrolled(e.parentNode,t))}static getTopLeft(e){const t={x:0,y:0};s.getOffset(e,t);const i={x:0,y:0};s.getScrolled(e.parentNode,i);return{x:t.x-i.x,y:t.y-i.y}}static clamp(e,t,i){return e>i?i:e<t?t:e}static compact(e){return e.filter((e=>null!=e))}static isNumberInRange(e,t,i){return Number(e)>=Math.min(t,i)&&e<=Math.max(t,i)}static mapRangeToRange(e,t,i){return t[0]+(i-e[0])*(t[1]-t[0])/(e[1]-e[0])}static uuid(e){const t=new Uint32Array(4);return e.crypto.getRandomValues(t).join("-")}static removeFromArray(e,t){const i=t.findIndex(e);return i>=0&&t.splice(i,1),t}}t.PointAndShootHelper=s},229:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PointAndShootHelper=t.BeamElementHelper=t.BeamEmbedHelper=t.BeamRectHelper=t.BeamLogger=void 0;const n=i(994);Object.defineProperty(t,"BeamLogger",{enumerable:!0,get:function(){return n.BeamLogger}});const r=i(675);Object.defineProperty(t,"BeamRectHelper",{enumerable:!0,get:function(){return r.BeamRectHelper}});const a=i(10);Object.defineProperty(t,"BeamEmbedHelper",{enumerable:!0,get:function(){return a.BeamEmbedHelper}});const s=i(43);Object.defineProperty(t,"BeamElementHelper",{enumerable:!0,get:function(){return s.BeamElementHelper}});const o=i(384);Object.defineProperty(t,"PointAndShootHelper",{enumerable:!0,get:function(){return o.PointAndShootHelper}})},691:(e,t,i)=>{"use strict";t.S=void 0;const n=i(225),r=i(229);t.S=class{constructor(e,t){this.ui=t,this.media_isPageMuted=!1,this.win=e,this.logger=new r.BeamLogger(e,n.BeamLogCategory.embedNode),this.registerEventListeners()}registerEventListeners(){this.win.addEventListener("load",this.media_add_observe.bind(this)),this.win.addEventListener("beam_historyLoad",this.media_onPlaying.bind(this)),this.createMediaMutationObserver()}createMutationObserver(e){return new MutationObserver(e)}createMediaMutationObserver(){this.createMutationObserver(this.mediaMutationCallback.bind(this)).observe(this.win.document,{childList:!0,subtree:!0,attributes:!0})}mediaMutationCallback(e,t){e.map((e=>{for(const t of e.removedNodes)["VIDEO","AUDIO"].includes(t.nodeName)&&this.removeEventListenerToMediaTag(t);for(const t of e.addedNodes)["VIDEO","AUDIO"].includes(t.nodeName)&&this.addEventListenerToMediaTag(t)}))}media_htmlMediaTags(){return this.win.document.querySelectorAll("video,audio")}media_add_observe(){const e=this.media_htmlMediaTags();for(let t=0;t<e.length;t++){const i=e[t];this.addEventListenerToMediaTag(i)}}addEventListenerToMediaTag(e){e.addEventListener&&(e.addEventListener("playing",this.media_onPlaying.bind(this)),e.addEventListener("pause",this.media_onPausePlaying.bind(this)),e.addEventListener("ended",this.media_onStopPlaying.bind(this)))}removeEventListenerToMediaTag(e){e.removeEventListener&&(e.removeEventListener("playing",this.media_onPlaying.bind(this)),e.removeEventListener("pause",this.media_onPausePlaying.bind(this)),e.removeEventListener("ended",this.media_onStopPlaying.bind(this)))}getPlayStateFromAllTags(){const e=this.media_htmlMediaTags(),t=[];for(let i=0;i<e.length;i++)t.push(this.getPlayStateFromTag(e[i]));return t.includes(n.MediaPlayState.playing)?n.MediaPlayState.playing:t.includes(n.MediaPlayState.paused)?n.MediaPlayState.paused:t.includes(n.MediaPlayState.ended)?n.MediaPlayState.ended:n.MediaPlayState.ready}getPlayStateFromTag(e){const{currentTime:t,paused:i,muted:r,ended:a}=e;if(a)return n.MediaPlayState.ended;if(0==t&&i)return n.MediaPlayState.ready;const s=r&&!this.media_isPageMuted;return i||s?n.MediaPlayState.paused:n.MediaPlayState.playing}media_elemenSupportsPictureInPicture(e){return void 0!==e.webkitSupportsPresentationMode&&"function"==typeof e.webkitSetPresentationMode}media_elemenIsInPictureInPicture(e){return this.media_elemenSupportsPictureInPicture(e)&&"picture-in-picture"===e.webkitPresentationMode}media_onPlaying(e){this.media_isPageMuted&&0==e.target.muted&&(e.target.muted=this.media_isPageMuted),this.sendPlayState(e.target)}media_onPausePlaying(e){this.sendPlayState(e.target)}media_onStopPlaying(e){this.sendPlayState(e.target)}sendPlayState(e){const t={playState:this.getPlayStateFromAllTags(),muted:this.media_isPageMuted,pipSupported:this.media_elemenSupportsPictureInPicture(e),isInPip:this.media_elemenIsInPictureInPicture(e)};this.ui.media_sendPlayStateChanged(t)}toString(){return this.constructor.name}toggleMute(){this.media_isPageMuted=!this.media_isPageMuted;const e=this.media_htmlMediaTags();for(let t=0;t<e.length;t++){e[t].muted=this.media_isPageMuted}}togglePictureInPicture(){const e=this.media_htmlMediaTags();if(0!=e.length)for(let t=0;t<e.length;t++){const i=e[t];if(this.media_elemenSupportsPictureInPicture(i)){const e=this.media_elemenIsInPictureInPicture(i)?n.BeamWebkitPresentationMode.inline:n.BeamWebkitPresentationMode.pip;return void i.webkitSetPresentationMode(e)}}}}},438:(e,t,i)=>{"use strict";t.w=void 0;const n=i(225),r=i(229);class a{constructor(e){this.native=e,this.logger=new r.BeamLogger(this.native.win,n.BeamLogCategory.embedNode)}static getInstance(e){let t;try{const i=n.Native.getInstance(e,"MediaPlayer");t=new a(i)}catch(e){t=null}return t}media_sendPlayStateChanged({playState:e,muted:t,pipSupported:i,isInPip:n}){this.native.sendMessage("media_playing_changed",{playState:e,muted:t,pipSupported:i,isInPip:n})}toString(){return this.constructor.name}}t.w=a}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=i(225),t=i(691),n=i(438);const r=e.Native.getInstance(window,"MediaPlayer"),a=new n.w(r);window.beam||(window.beam={}),window.beam.__ID__MediaPlayer=new t.S(window,a)})()})();